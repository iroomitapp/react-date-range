"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _utils = require("../../utils");
var _DayCell = _interopRequireDefault(require("../DayCell"));
var _dateFns = require("date-fns");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
var _default = exports.default = /*#__PURE__*/(0, _react.memo)(function Month(_ref) {
  let {
    style,
    styles,
    month,
    drag,
    dateOptions,
    disabledDates,
    disabledDay,
    preview,
    showPreview,
    date,
    displayMode,
    minDate,
    maxDate,
    ranges,
    color,
    focusedRange,
    onDragSelectionStart,
    onDragSelectionEnd,
    onDragSelectionMove,
    onMouseLeave,
    onPreviewChange,
    monthDisplayFormat,
    weekdayDisplayFormat,
    dayDisplayFormat,
    showWeekDays,
    showMonthName,
    fixedHeight,
    dayContentRenderer
  } = _ref;
  const now = new Date();
  const minDateInternal = !!minDate && (0, _dateFns.startOfDay)(minDate);
  const maxDateInternal = !!maxDate && (0, _dateFns.endOfDay)(maxDate);
  let newMonthDisplayDate = month;
  if (maxDate && (maxDate.getFullYear() < month.getFullYear() || maxDate.getFullYear() == month.getFullYear() && maxDate.getMonth() < month.getMonth())) {
    newMonthDisplayDate = (0, _dateFns.startOfMonth)(maxDate);
  }
  const monthDisplay = (0, _utils.getMonthDisplayRange)(newMonthDisplayDate, dateOptions, fixedHeight);
  let rangesInternal = ranges;
  if (displayMode == 'dateRange' && drag.status) {
    const {
      startDate,
      endDate
    } = drag.range;
    rangesInternal = rangesInternal.map((range, i) => {
      if (i !== focusedRange[0]) return range;
      return {
        ...range,
        startDate,
        endDate
      };
    });
  }
  const showPreviewInternal = showPreview && !drag.disablePreview;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: styles.month,
    style: style
  }, showMonthName ? /*#__PURE__*/_react.default.createElement("div", {
    className: styles.monthName
  }, (0, _dateFns.format)(month, monthDisplayFormat, dateOptions)) : null, showWeekDays ? /*#__PURE__*/_react.default.createElement(Weekdays, {
    styles: styles,
    dateOptions: dateOptions,
    weekdayDisplayFormat: weekdayDisplayFormat
  }) : null, /*#__PURE__*/_react.default.createElement("div", {
    className: styles.days,
    onMouseLeave: onMouseLeave
  }, (0, _dateFns.eachDayOfInterval)({
    start: monthDisplay.start,
    end: monthDisplay.end
  }).map((day, index) => {
    const isStartOfMonth = (0, _dateFns.isSameDay)(day, monthDisplay.startDateOfMonth);
    const isEndOfMonth = (0, _dateFns.isSameDay)(day, monthDisplay.endDateOfMonth);
    const isOutsideMinMax = minDateInternal && (0, _dateFns.isBefore)(day, minDateInternal) || maxDateInternal && (0, _dateFns.isAfter)(day, maxDateInternal);
    const isDisabledSpecifically = disabledDates.some(disabledDate => (0, _dateFns.isSameDay)(disabledDate, day));
    const isDisabledDay = disabledDay(day);
    return /*#__PURE__*/_react.default.createElement(_DayCell.default, {
      date: date,
      dayContentRenderer: dayContentRenderer,
      key: index,
      onPreviewChange: onPreviewChange,
      displayMode: displayMode,
      color: color,
      dayDisplayFormat: dayDisplayFormat,
      ranges: rangesInternal,
      day: day,
      preview: showPreviewInternal ? preview : null,
      isWeekend: (0, _dateFns.isWeekend)(day),
      isToday: (0, _dateFns.isSameDay)(day, now),
      isStartOfWeek: (0, _dateFns.isSameDay)(day, (0, _dateFns.startOfWeek)(day, dateOptions)),
      isEndOfWeek: (0, _dateFns.isSameDay)(day, (0, _dateFns.endOfWeek)(day, dateOptions)),
      isStartOfMonth: isStartOfMonth,
      isEndOfMonth: isEndOfMonth,
      disabled: isOutsideMinMax || isDisabledSpecifically || isDisabledDay,
      isPassive: !(0, _dateFns.isWithinInterval)(day, {
        start: monthDisplay.startDateOfMonth,
        end: monthDisplay.endDateOfMonth
      }),
      styles: styles,
      onMouseDown: onDragSelectionStart,
      onMouseUp: onDragSelectionEnd,
      onMouseEnter: onDragSelectionMove
    });
  })));
});
function Weekdays(_ref2) {
  let {
    styles,
    dateOptions,
    weekdayDisplayFormat
  } = _ref2;
  const now = new Date();
  return /*#__PURE__*/_react.default.createElement("div", {
    className: styles.weekDays
  }, (0, _dateFns.eachDayOfInterval)({
    start: (0, _dateFns.startOfWeek)(now, dateOptions),
    end: (0, _dateFns.endOfWeek)(now, dateOptions)
  }).map((day, i) => {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: styles.weekDay,
      key: i
    }, (0, _dateFns.format)(day, weekdayDisplayFormat, dateOptions));
  }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfdXRpbHMiLCJfRGF5Q2VsbCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZGF0ZUZucyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1lbW8iLCJNb250aCIsIl9yZWYiLCJzdHlsZSIsInN0eWxlcyIsIm1vbnRoIiwiZHJhZyIsImRhdGVPcHRpb25zIiwiZGlzYWJsZWREYXRlcyIsImRpc2FibGVkRGF5IiwicHJldmlldyIsInNob3dQcmV2aWV3IiwiZGF0ZSIsImRpc3BsYXlNb2RlIiwibWluRGF0ZSIsIm1heERhdGUiLCJyYW5nZXMiLCJjb2xvciIsImZvY3VzZWRSYW5nZSIsIm9uRHJhZ1NlbGVjdGlvblN0YXJ0Iiwib25EcmFnU2VsZWN0aW9uRW5kIiwib25EcmFnU2VsZWN0aW9uTW92ZSIsIm9uTW91c2VMZWF2ZSIsIm9uUHJldmlld0NoYW5nZSIsIm1vbnRoRGlzcGxheUZvcm1hdCIsIndlZWtkYXlEaXNwbGF5Rm9ybWF0IiwiZGF5RGlzcGxheUZvcm1hdCIsInNob3dXZWVrRGF5cyIsInNob3dNb250aE5hbWUiLCJmaXhlZEhlaWdodCIsImRheUNvbnRlbnRSZW5kZXJlciIsIm5vdyIsIkRhdGUiLCJtaW5EYXRlSW50ZXJuYWwiLCJzdGFydE9mRGF5IiwibWF4RGF0ZUludGVybmFsIiwiZW5kT2ZEYXkiLCJuZXdNb250aERpc3BsYXlEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInN0YXJ0T2ZNb250aCIsIm1vbnRoRGlzcGxheSIsImdldE1vbnRoRGlzcGxheVJhbmdlIiwicmFuZ2VzSW50ZXJuYWwiLCJzdGF0dXMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicmFuZ2UiLCJtYXAiLCJzaG93UHJldmlld0ludGVybmFsIiwiZGlzYWJsZVByZXZpZXciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibW9udGhOYW1lIiwiZm9ybWF0IiwiV2Vla2RheXMiLCJkYXlzIiwiZWFjaERheU9mSW50ZXJ2YWwiLCJzdGFydCIsImVuZCIsImRheSIsImluZGV4IiwiaXNTdGFydE9mTW9udGgiLCJpc1NhbWVEYXkiLCJzdGFydERhdGVPZk1vbnRoIiwiaXNFbmRPZk1vbnRoIiwiZW5kRGF0ZU9mTW9udGgiLCJpc091dHNpZGVNaW5NYXgiLCJpc0JlZm9yZSIsImlzQWZ0ZXIiLCJpc0Rpc2FibGVkU3BlY2lmaWNhbGx5Iiwic29tZSIsImRpc2FibGVkRGF0ZSIsImlzRGlzYWJsZWREYXkiLCJrZXkiLCJpc1dlZWtlbmQiLCJpc1RvZGF5IiwiaXNTdGFydE9mV2VlayIsInN0YXJ0T2ZXZWVrIiwiaXNFbmRPZldlZWsiLCJlbmRPZldlZWsiLCJkaXNhYmxlZCIsImlzUGFzc2l2ZSIsImlzV2l0aGluSW50ZXJ2YWwiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIm9uTW91c2VFbnRlciIsIl9yZWYyIiwid2Vla0RheXMiLCJ3ZWVrRGF5Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvTW9udGgvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDU1NQcm9wZXJ0aWVzLCBNb3VzZUV2ZW50LCBtZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0TW9udGhEaXNwbGF5UmFuZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZXNUeXBlIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCBEYXlDZWxsLCB7IERheUNlbGxQcm9wcywgRGF0ZVJhbmdlIH0gZnJvbSAnLi4vRGF5Q2VsbCc7XG5pbXBvcnQgeyBGb3JtYXRPcHRpb25zLCBlYWNoRGF5T2ZJbnRlcnZhbCwgZW5kT2ZEYXksIGVuZE9mV2VlaywgZm9ybWF0LCBpc0FmdGVyLCBpc0JlZm9yZSwgaXNTYW1lRGF5LCBpc1dlZWtlbmQsIGlzV2l0aGluSW50ZXJ2YWwsIHN0YXJ0T2ZEYXksIHN0YXJ0T2ZNb250aCwgc3RhcnRPZldlZWsgfSBmcm9tICdkYXRlLWZucyc7XG5cbnR5cGUgTW9udGhQcm9wcyA9IHtcbiAgc3R5bGU6IENTU1Byb3BlcnRpZXMsXG4gIHN0eWxlczogU3R5bGVzVHlwZSxcbiAgbW9udGg6IERhdGUsXG4gIGRyYWc6IHtcbiAgICByYW5nZTogRGF0ZVJhbmdlLFxuICAgIGRpc2FibGVQcmV2aWV3OiBib29sZWFuLFxuICAgIHN0YXR1czogYm9vbGVhblxuICB9LFxuICBkYXRlT3B0aW9uczogRm9ybWF0T3B0aW9ucyxcbiAgZGlzYWJsZWREYXRlcz86IERhdGVbXSxcbiAgZGF0ZT86IERhdGUsXG4gIGRpc2FibGVkRGF5PzogKGRhdGU6IERhdGUpID0+IGJvb2xlYW4sXG4gIHByZXZpZXc/OiB7XG4gICAgc3RhcnREYXRlOiBEYXRlLFxuICAgIGVuZERhdGU6IERhdGVcbiAgfSxcbiAgc2hvd1ByZXZpZXc/OiBib29sZWFuLFxuICBkaXNwbGF5TW9kZTogXCJkYXRlUmFuZ2VcIiB8IFwiZGF0ZVwiLFxuICBtaW5EYXRlPzogRGF0ZSxcbiAgbWF4RGF0ZT86IERhdGUsXG4gIHJhbmdlcz86IERheUNlbGxQcm9wc1tcInJhbmdlc1wiXSxcbiAgZm9jdXNlZFJhbmdlPzogbnVtYmVyW10sXG4gIGNvbG9yPzogc3RyaW5nLFxuICBvblByZXZpZXdDaGFuZ2U/OiAoZGF0ZT86IERhdGUpID0+IHZvaWQsXG4gIG9uRHJhZ1NlbGVjdGlvblN0YXJ0PzogKGRhdGU6IERhdGUpID0+IHZvaWQsXG4gIG9uRHJhZ1NlbGVjdGlvbkVuZD86IChkYXRlOiBEYXRlKSA9PiB2b2lkLFxuICBvbkRyYWdTZWxlY3Rpb25Nb3ZlPzogKGRhdGU6IERhdGUpID0+IHZvaWQsXG4gIG9uTW91c2VMZWF2ZT86IChldmVudDogTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHZvaWQsXG4gIG1vbnRoRGlzcGxheUZvcm1hdDogc3RyaW5nLFxuICB3ZWVrZGF5RGlzcGxheUZvcm1hdDogc3RyaW5nLFxuICBkYXlEaXNwbGF5Rm9ybWF0OiBzdHJpbmcsXG4gIHNob3dXZWVrRGF5cz86IGJvb2xlYW4sXG4gIHNob3dNb250aE5hbWU/OiBib29sZWFuLFxuICBmaXhlZEhlaWdodD86IGJvb2xlYW4sXG4gIGRheUNvbnRlbnRSZW5kZXJlcj86IChkYXRlOiBEYXRlKSA9PiBSZWFjdC5SZWFjdEVsZW1lbnRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oZnVuY3Rpb24gTW9udGgoe1xuICBzdHlsZSxcbiAgc3R5bGVzLFxuICBtb250aCxcbiAgZHJhZyxcbiAgZGF0ZU9wdGlvbnMsXG4gIGRpc2FibGVkRGF0ZXMsXG4gIGRpc2FibGVkRGF5LFxuICBwcmV2aWV3LFxuICBzaG93UHJldmlldyxcbiAgZGF0ZSxcbiAgZGlzcGxheU1vZGUsXG4gIG1pbkRhdGUsXG4gIG1heERhdGUsXG4gIHJhbmdlcyxcbiAgY29sb3IsXG4gIGZvY3VzZWRSYW5nZSxcbiAgb25EcmFnU2VsZWN0aW9uU3RhcnQsXG4gIG9uRHJhZ1NlbGVjdGlvbkVuZCxcbiAgb25EcmFnU2VsZWN0aW9uTW92ZSxcbiAgb25Nb3VzZUxlYXZlLFxuICBvblByZXZpZXdDaGFuZ2UsXG4gIG1vbnRoRGlzcGxheUZvcm1hdCxcbiAgd2Vla2RheURpc3BsYXlGb3JtYXQsXG4gIGRheURpc3BsYXlGb3JtYXQsXG4gIHNob3dXZWVrRGF5cyxcbiAgc2hvd01vbnRoTmFtZSxcbiAgZml4ZWRIZWlnaHQsXG4gIGRheUNvbnRlbnRSZW5kZXJlclxufTogTW9udGhQcm9wcykge1xuXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgY29uc3QgbWluRGF0ZUludGVybmFsID0gISFtaW5EYXRlICYmIHN0YXJ0T2ZEYXkobWluRGF0ZSk7XG4gIGNvbnN0IG1heERhdGVJbnRlcm5hbCA9ICEhbWF4RGF0ZSAmJiBlbmRPZkRheShtYXhEYXRlKTtcblxuICBsZXQgbmV3TW9udGhEaXNwbGF5RGF0ZSA9IG1vbnRoO1xuXG4gIGlmIChtYXhEYXRlICYmIChtYXhEYXRlLmdldEZ1bGxZZWFyKCkgPCBtb250aC5nZXRGdWxsWWVhcigpIHx8IChtYXhEYXRlLmdldEZ1bGxZZWFyKCkgPT0gbW9udGguZ2V0RnVsbFllYXIoKSAmJiBtYXhEYXRlLmdldE1vbnRoKCkgPCBtb250aC5nZXRNb250aCgpKSkpIHtcbiAgICBuZXdNb250aERpc3BsYXlEYXRlID0gc3RhcnRPZk1vbnRoKG1heERhdGUpO1xuICB9XG5cbiAgY29uc3QgbW9udGhEaXNwbGF5ID0gZ2V0TW9udGhEaXNwbGF5UmFuZ2UobmV3TW9udGhEaXNwbGF5RGF0ZSwgZGF0ZU9wdGlvbnMsIGZpeGVkSGVpZ2h0KTtcblxuICBsZXQgcmFuZ2VzSW50ZXJuYWwgPSByYW5nZXM7XG5cbiAgaWYgKGRpc3BsYXlNb2RlID09ICdkYXRlUmFuZ2UnICYmIGRyYWcuc3RhdHVzKSB7XG4gICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IGRyYWcucmFuZ2U7XG5cbiAgICByYW5nZXNJbnRlcm5hbCA9IHJhbmdlc0ludGVybmFsLm1hcCgocmFuZ2UsIGkpID0+IHtcbiAgICAgIGlmIChpICE9PSBmb2N1c2VkUmFuZ2VbMF0pIHJldHVybiByYW5nZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJhbmdlLFxuICAgICAgICBzdGFydERhdGUsXG4gICAgICAgIGVuZERhdGUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2hvd1ByZXZpZXdJbnRlcm5hbCA9IHNob3dQcmV2aWV3ICYmICFkcmFnLmRpc2FibGVQcmV2aWV3O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tb250aH0gc3R5bGU9e3N0eWxlfT5cbiAgICAgIHtcbiAgICAgICAgc2hvd01vbnRoTmFtZSA/IDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubW9udGhOYW1lfT57Zm9ybWF0KG1vbnRoLCBtb250aERpc3BsYXlGb3JtYXQsIGRhdGVPcHRpb25zKX08L2Rpdj4gOiBudWxsXG4gICAgICB9XG4gICAgICB7XG4gICAgICAgIHNob3dXZWVrRGF5cyA/IDxXZWVrZGF5cyBzdHlsZXM9e3N0eWxlc30gZGF0ZU9wdGlvbnM9e2RhdGVPcHRpb25zfSB3ZWVrZGF5RGlzcGxheUZvcm1hdD17d2Vla2RheURpc3BsYXlGb3JtYXR9IC8+IDogbnVsbFxuICAgICAgfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kYXlzfSBvbk1vdXNlTGVhdmU9e29uTW91c2VMZWF2ZX0+XG4gICAgICAgIHtcbiAgICAgICAgICBlYWNoRGF5T2ZJbnRlcnZhbCh7IHN0YXJ0OiBtb250aERpc3BsYXkuc3RhcnQsIGVuZDogbW9udGhEaXNwbGF5LmVuZCB9KS5tYXAoKGRheTogRGF0ZSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNTdGFydE9mTW9udGggPSBpc1NhbWVEYXkoZGF5LCBtb250aERpc3BsYXkuc3RhcnREYXRlT2ZNb250aCk7XG4gICAgICAgICAgICBjb25zdCBpc0VuZE9mTW9udGggPSBpc1NhbWVEYXkoZGF5LCBtb250aERpc3BsYXkuZW5kRGF0ZU9mTW9udGgpO1xuICAgICAgICAgICAgY29uc3QgaXNPdXRzaWRlTWluTWF4ID0gKG1pbkRhdGVJbnRlcm5hbCAmJiBpc0JlZm9yZShkYXksIG1pbkRhdGVJbnRlcm5hbCkpIHx8IChtYXhEYXRlSW50ZXJuYWwgJiYgaXNBZnRlcihkYXksIG1heERhdGVJbnRlcm5hbCkpO1xuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZFNwZWNpZmljYWxseSA9IGRpc2FibGVkRGF0ZXMuc29tZShkaXNhYmxlZERhdGUgPT5cbiAgICAgICAgICAgICAgaXNTYW1lRGF5KGRpc2FibGVkRGF0ZSwgZGF5KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZERheSA9IGRpc2FibGVkRGF5KGRheSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxEYXlDZWxsXG4gICAgICAgICAgICAgICAgZGF0ZT17ZGF0ZX1cbiAgICAgICAgICAgICAgICBkYXlDb250ZW50UmVuZGVyZXI9e2RheUNvbnRlbnRSZW5kZXJlcn1cbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgIG9uUHJldmlld0NoYW5nZT17b25QcmV2aWV3Q2hhbmdlfVxuICAgICAgICAgICAgICAgIGRpc3BsYXlNb2RlPXtkaXNwbGF5TW9kZX1cbiAgICAgICAgICAgICAgICBjb2xvcj17Y29sb3J9XG4gICAgICAgICAgICAgICAgZGF5RGlzcGxheUZvcm1hdD17ZGF5RGlzcGxheUZvcm1hdH1cbiAgICAgICAgICAgICAgICByYW5nZXM9e3Jhbmdlc0ludGVybmFsfVxuICAgICAgICAgICAgICAgIGRheT17ZGF5fVxuICAgICAgICAgICAgICAgIHByZXZpZXc9e3Nob3dQcmV2aWV3SW50ZXJuYWwgPyBwcmV2aWV3IDogbnVsbH1cbiAgICAgICAgICAgICAgICBpc1dlZWtlbmQ9e2lzV2Vla2VuZChkYXkpfVxuICAgICAgICAgICAgICAgIGlzVG9kYXk9e2lzU2FtZURheShkYXksIG5vdyl9XG4gICAgICAgICAgICAgICAgaXNTdGFydE9mV2Vlaz17aXNTYW1lRGF5KGRheSwgc3RhcnRPZldlZWsoZGF5LCBkYXRlT3B0aW9ucykpfVxuICAgICAgICAgICAgICAgIGlzRW5kT2ZXZWVrPXtpc1NhbWVEYXkoZGF5LCBlbmRPZldlZWsoZGF5LCBkYXRlT3B0aW9ucykpfVxuICAgICAgICAgICAgICAgIGlzU3RhcnRPZk1vbnRoPXtpc1N0YXJ0T2ZNb250aH1cbiAgICAgICAgICAgICAgICBpc0VuZE9mTW9udGg9e2lzRW5kT2ZNb250aH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNPdXRzaWRlTWluTWF4IHx8IGlzRGlzYWJsZWRTcGVjaWZpY2FsbHkgfHwgaXNEaXNhYmxlZERheX1cbiAgICAgICAgICAgICAgICBpc1Bhc3NpdmU9e1xuICAgICAgICAgICAgICAgICAgIWlzV2l0aGluSW50ZXJ2YWwoZGF5LCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBtb250aERpc3BsYXkuc3RhcnREYXRlT2ZNb250aCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBtb250aERpc3BsYXkuZW5kRGF0ZU9mTW9udGgsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHlsZXM9e3N0eWxlc31cbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17b25EcmFnU2VsZWN0aW9uU3RhcnR9XG4gICAgICAgICAgICAgICAgb25Nb3VzZVVwPXtvbkRyYWdTZWxlY3Rpb25FbmR9XG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtvbkRyYWdTZWxlY3Rpb25Nb3ZlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn0pO1xuXG50eXBlIFdlZWtkYXlzUHJvcHMgPSB7XG4gIHN0eWxlczogU3R5bGVzVHlwZSxcbiAgZGF0ZU9wdGlvbnM6IEZvcm1hdE9wdGlvbnMsXG4gIHdlZWtkYXlEaXNwbGF5Rm9ybWF0OiBzdHJpbmdcbn07XG5cbmZ1bmN0aW9uIFdlZWtkYXlzKHtcbiAgc3R5bGVzLFxuICBkYXRlT3B0aW9ucyxcbiAgd2Vla2RheURpc3BsYXlGb3JtYXRcbn06IFdlZWtkYXlzUHJvcHMpIHtcblxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy53ZWVrRGF5c30+XG4gICAgICB7XG4gICAgICAgIGVhY2hEYXlPZkludGVydmFsKHtcbiAgICAgICAgICBzdGFydDogc3RhcnRPZldlZWsobm93LCBkYXRlT3B0aW9ucyksXG4gICAgICAgICAgZW5kOiBlbmRPZldlZWsobm93LCBkYXRlT3B0aW9ucylcbiAgICAgICAgfSkubWFwKChkYXk6IERhdGUsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy53ZWVrRGF5fSBrZXk9e2l9Pntmb3JtYXQoZGF5LCB3ZWVrZGF5RGlzcGxheUZvcm1hdCwgZGF0ZU9wdGlvbnMpfTwvc3Bhbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFFBQUEsR0FBQUosT0FBQTtBQUEyTCxTQUFBRyx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFWLHdCQUFBVSxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUgsVUFBQSxTQUFBRyxDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENB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